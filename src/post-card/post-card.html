<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-icon/iron-icon.html">
<link rel="import" href="/bower_components/iron-icons/maps-icons.html">

<dom-module id="post-card">
    <template>
        <style>
            body {
                height: 100vh;
                background: radial-gradient(circle, #D6A664, #F9CD8F);
                display: flex;
                justify-content: center;
                align-items: center;
                font-family: roboto;
            }

            .post {
                display: flex;
                width: 1000px;
                margin: 1rem;
            }

            @media (max-width: 768px) {
                .post {
                    flex-direction: column;
                }
            }

            .post-left {
                width: 40%;
                background-color: #484855;
                color: white;
                padding: 3em;
                position: relative;
            }



            .post-left_title {
                font-size: 2em;
                text-transform: uppercase;
                font-weight: 700;
            }

            .post-left_title_sub {
                font-size: 2em;
                text-transform: uppercase;
                font-weight: 300;
                margin-top: 0.25em;
            }

            .post-left_border {
                border: 2px solid #ef5350;
                width: 15%;
                margin-top: 1em;
            }

            .post-left_author {
                position: absolute;
                bottom: 2em;
                display: flex;
                align-items: center;
            }

            .post-left_author img {
                width: 2.5em;
                margin-right: 1em;
                border: 1px solid #FEFEFE;
                border-radius: 50%;
            }

            .post-right {
                width: 60%;
                background-color: #FEFEFE;
                color: #484855;
            }

            .post-right_body {
                line-height: 2;
                padding: 2em;
            }

            @media (max-width: 768px) {
                .post-left {
                    width: 90%;
                    padding: 0;
                }

                .post-right {
                    width: 90%;
                }

                .post {
                    display: flex;
                    width: 100%;
                    margin: 1rem;
                }
            }

            .post-right_body p {
                margin-top: 1em;
            }

            .post-right_body p span {
                font-size: 2em;
            }

            .post-right_footer {
                display: flex;
                justify-content: space-between;
                box-shadow: 0px -4px 3px -2px rgba(0, 0, 0, 0.1);
                padding: 2em;
            }

            .post-right_footer_date {
                text-transform: uppercase;
            }

            .post-right_footer_date span {
                font-weight: 700;
            }

            .post-right_footer_pictos {
                font-size: 1.5em;
                margin-right: 1em;
            }

            .post-right_footer_pictos .fa-heart {
                color: #ef5350;
                margin-right: 1em;
            }
        </style>

        <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

        <div class="post">
            <div class="post-left">
                <div class="post-left_title">[[post.title]]</div>
                <div class="post-left_title_sub">Dolor sit amet</div>
                <div class="post-left_border"></div>
                <div class="post-left_author">
                    <p></p>
                </div>
            </div>
            <div class="post-right">
                <div class="post-right_body">
                    <p>[[post.body]]</p>
                </div>
                <div class="post-right_footer">
                    <div class="post-right_footer_date">
                        <p> [[_formatDate(post.date)]]
                        </p>
                    </div>
                    <div class="post-right_footer_pictos">
                        <i class="fa fa-heart" aria-hidden="true"></i>
                        <i class="fa fa-share-alt" aria-hidden="true"></i>
                    </div>
                </div>
            </div>
        </div>

    </template>
    <script>
        (function postCard(customElements) {
            class PostCard extends Polymer.Element {
                static get is() {
                    return 'post-card'
                }

                static get properties() {
                    return {
                        post: Object
                    }
                }

                _formatDate(date) {
                    var year = date.substring(0, 4);
                    let month = date.substring(5, 7);
                    let day = date.substring(8, 10);

                    let full = `${day}/${month}/${year}`

                    return full
                }

            }
            customElements.define(PostCard.is, PostCard);

        })(window.customElements);
    </script>
</dom-module>