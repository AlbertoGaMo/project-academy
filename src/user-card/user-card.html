<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-card/index.html">
<link rel="import" href="/bower_components/paper-ripple/paper-ripple.html">

<dom-module id="user-card">
    <template>
        <style>
            :host {
                order: 2;
            }

            :host(.mainusr) {
                order: 1;
            }

            paper-card {
                border-left: 10px solid blue;
                padding: 1rem;
                width: 100%;
                margin-bottom: 15px;
            }

            .main {
                border-left: 10px solid rgb(83, 83, 197);
            }

            .rate-image {
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                width: 70px;
                background: url('/images/aztec.svg');
                background-size: cover;
            }
        </style>

        <paper-card class$="[[main]]" on-click="_handleClick">
            <h1>[[user.name]]</h1>
            <div class="rate-image"></div>
            <paper-ripple></paper-ripple>
        </paper-card>

    </template>
    <script>
        (function userCard(customElements) {
            class UserCard extends Polymer.Element {
                static get is() {
                    return 'user-card'
                }

                static get properties() {
                    return {
                        user: Object,
                        main: {
                            computed: '_isMainUser(user)'
                        }
                    }
                }

                _handleClick() {
                    this.dispatchEvent(new CustomEvent('user-card-click', {
                        bubbles: true,
                        composed: true,
                        detail: {
                            userName: this.user.name
                        }
                    }));
                }

                _isMainUser(user) {
                    if (user.isMainUser) {
                        return 'main'
                    }
                    return 'regular'
                }

            }
            customElements.define(UserCard.is, UserCard);

        })(window.customElements);
    </script>
</dom-module>